#!/bin/zsh
# close file descriptor & remove handler
emulate -L zsh; setopt $_znap_opts

[[ $1 == <-> ]] ||
  return 1

local -i fd=$1

(( fd < 10 )) &&
  return 1

{ : <&$fd } 2> /dev/null ||
  return 1

zle -F $fd 2> /dev/null
exec {fd}<&-
