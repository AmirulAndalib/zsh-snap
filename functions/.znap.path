#!/bin/zsh
# print plugins dir or repo path
# args: [<repo>]
emulate -L zsh; setopt $_znap_opts

local basedir; zstyle -s :znap: plugins-dir basedir ||
  basedir=${${(%):-%x}:A:h:h:h}
REPLY=$basedir${1:+/$1}
if [[ -e $REPLY ]]; then
  print -r $REPLY
  return 0
else
  print -u2 "znap path: no such file or directory '$basedir/$1'"
  .znap.help path
  return 1
fi
